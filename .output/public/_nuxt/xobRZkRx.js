import{_ as d}from"./joFxBvxc.js";import{j as l,a as f,r as m,z as h,J as g,L as n,a5 as v,af as x,u as a,C as B,B as w,$ as y,N as V,M as C,O as I,P as M}from"./C9n3QNrM.js";import{g as N,_ as S}from"./DLKwB8SR.js";const T=t=>(I("data-v-65464320"),t=t(),M(),t),b={class:"login"},k=T(()=>n("h1",{class:""},"Введите код",-1)),D={class:"login__form"},L=l({__name:"login",setup(t){const r=N(),o=f("Войти"),e=m({code:""});async function p(){if(!e.code){c("Забыл вписать код");return}try{await $fetch("/api/auth/login",{method:"post",body:e}),await r.push({path:"/admin"})}catch{c("Ошибка входа")}}function c(s){o.value=s,setTimeout(()=>{o.value="Войти"},3e3)}return(s,i)=>{const _=d;return h(),g("div",b,[k,n("form",D,[v(n("input",{"onUpdate:modelValue":i[0]||(i[0]=u=>a(e).code=u),class:"login__input",type:"text",placeholder:"Код"},null,512),[[x,a(e).code]]),B(_,{class:"button",onClick:y(p,["prevent"])},{default:w(()=>[V(C(a(o)),1)]),_:1})])])}}}),E=S(L,[["__scopeId","data-v-65464320"]]);export{E as default};
